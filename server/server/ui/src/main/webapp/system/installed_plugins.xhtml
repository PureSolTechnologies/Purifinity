<ui:composition
	template="/resources/templates/purifinity_template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	<ui:define name="breadcrumb">
		<p:link value="Purifinity" outcome="/index" />
		<h:outputText value=" > " />
		<p:link value="System" outcome="index" />
		<h:outputText value=" > " />
		<h:outputText value="Installed Plugins" />
	</ui:define>
	<ui:define name="page_content">
		<p:panel>
			<h1>Installed Plugins</h1>
			<p:tabView dynamic="true" cache="true">
				<p:tab title="By Plugin">
					<p:dataTable var="plugin" value="#{systemPluginsMBean.plugins}">
						<f:facet name="header">Deployed Plugins</f:facet>
						<p:column headerText="Name">
							<h:outputLink rendered="#{plugin.pathToUI != null}"
								value="#{plugin.pathToUI}">#{plugin.name}</h:outputLink>
							<h:outputText rendered="#{plugin.pathToUI == null}"
								value="#{plugin.name}" />
						</p:column>
						<p:column headerText="Version">
							<h:outputText value="#{plugin.version}" />
						</p:column>
						<p:column headerText="Description">
							<h:outputText value="#{plugin.description}" />
						</p:column>
						<p:column headerText="Vendor">
							<h:outputLink value="#{plugin.vendorURL}">
								<h:outputText value="#{plugin.vendor}" />
							</h:outputLink>
						</p:column>
					</p:dataTable>
				</p:tab>
				<p:tab title="By Category">
					<p:dataTable var="analyzer" value="#{systemPluginsMBean.analyzers}">
						<f:facet name="header">Installed Analyzers</f:facet>
						<p:column headerText="Name">
							<h:outputLink rendered="#{analyzer.serviceURLPath != null}"
								value="#{analyzer.serviceURLPath}">#{analyzer.name} #{analyzer.version}</h:outputLink>
							<h:outputText rendered="#{analyzer.serviceURLPath == null}"
								value="#{analyzer.name} #{analyzer.version}" />
						</p:column>
						<p:column headerText="Plugin Version">
							<h:outputText value="#{analyzer.pluginVersion}" />
						</p:column>
						<p:column headerText="Description">
							<h:outputText value="#{analyzer.description}" />
						</p:column>
					</p:dataTable>
					<p:dataTable var="evaluator"
						value="#{systemPluginsMBean.evaluators}">
						<f:facet name="header">Installed Evaluators</f:facet>
						<p:column headerText="Name">
							<h:outputLink rendered="#{evaluator.serviceURLPath != null}"
								value="#{evaluator.serviceURLPath}">#{evaluator.name}</h:outputLink>
							<h:outputText rendered="#{evaluator.serviceURLPath == null}"
								value="#{evaluator.name}" />
						</p:column>
						<p:column headerText="Plugin Version">
							<h:outputText value="#{evaluator.pluginVersion}" />
						</p:column>
						<p:column headerText="Description">
							<h:outputText value="#{evaluator.description}" />
						</p:column>
					</p:dataTable>
					<p:dataTable var="repositoryType"
						value="#{systemPluginsMBean.repositoryTypes}">
						<f:facet name="header">Installed Repository Types</f:facet>
						<p:column headerText="Name">
							<h:outputLink rendered="#{repositoryType.serviceURLPath != null}"
								value="#{repositoryType.serviceURLPath}">#{repositoryType.name}</h:outputLink>
							<h:outputText rendered="#{repositoryType.serviceURLPath == null}"
								value="#{repositoryType.name}" />
						</p:column>
						<p:column headerText="Description">
							<h:outputText value="#{repositoryType.description}" />
						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
		</p:panel>
	</ui:define>
</ui:composition>
