<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>com.puresoltechnologies.purifinity</groupId>
		<artifactId>geronimo</artifactId>
		<version>0.1.1-SNAPSHOT</version>
	</parent>

	<artifactId>geronimo.test</artifactId>

	<dependencies>
		<dependency>
			<groupId>com.puresoltechnologies.purifinity</groupId>
			<artifactId>geronimo.configuration</artifactId>
		</dependency>
		<dependency>
			<groupId>org.apache.commons</groupId>
			<artifactId>commons-io</artifactId>
		</dependency>
		<dependency>
			<groupId>org.jboss.arquillian.junit</groupId>
			<artifactId>arquillian-junit-container</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.jboss.arquillian.core</groupId>
			<artifactId>arquillian-core-spi</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.jboss.arquillian.protocol</groupId>
			<artifactId>arquillian-protocol-servlet</artifactId>
			<scope>compile</scope>
		</dependency>
		<!-- dependency> <groupId>org.jboss.as</groupId> <artifactId>jboss-as-arquillian-container-managed</artifactId> 
			<scope>compile</scope> </dependency -->
		<dependency>
			<groupId>javax</groupId>
			<artifactId>javaee-api</artifactId>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-failsafe-plugin</artifactId>
			</plugin>
			<plugin>
				<groupId>org.codehaus.cargo</groupId>
				<artifactId>cargo-maven2-plugin</artifactId>
				<version>1.4.5</version>
				<executions>
					<execution>
						<id>Geronimo Configuration</id>
						<phase>package</phase>
						<goals>
							<goal>configure</goal>
							<goal>deployer-deploy</goal>
						</goals>
					</execution>
				</executions>
				<configuration>
					<!-- wait>false</wait -->
					<container>
						<containerId>geronimo3x</containerId>
						<timeout>60000</timeout>
						<artifactInstaller>
							<groupId>org.apache.geronimo</groupId>
							<artifactId>geronimo</artifactId>
							<version>${geronimo.version}</version>
							<type>tar.gz</type>
							<classifier>bin</classifier>
							<extractDir>${cargo.dir}</extractDir>
						</artifactInstaller>
					</container>
					<configuration>
						<type>standalone</type>
						<home>${arquillian.test.dir}</home>
						<!-- configfiles>
							<configfile>
								<file>${cargo.dir}/template/standalone/configuration/standalone.xml</file>
								<todir>configuration</todir>
							</configfile>
						</configfiles>
						<files>
							<file>
								<file>${cargo.dir}/template/standalone</file>
								<todir>/</todir>
							</file>
						</files -->
						<properties>
							<cargo.jboss.configuration>default</cargo.jboss.configuration>
							<cargo.servlet.port>8080</cargo.servlet.port>
							<cargo.rmi.port>1099</cargo.rmi.port>
							<cargo.jvmargs>${geronimo.jvm.options}</cargo.jvmargs>
							<cargo.servlet.port>${geronimo.http.port}</cargo.servlet.port>
							<cargo.logging>${cargo.logging}</cargo.logging>
						</properties>
					</configuration>
				</configuration>
			</plugin>
		</plugins>
	</build>

</project>